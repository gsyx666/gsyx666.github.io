<script>

const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;

function initMermaid() {
  var config = {
    startOnLoad: true,
    theme: "forest",
    logLevel: 4
  };
  if (isDarkMode) conf.theme = 'dark';
  mermaid.initialize(config);
  window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid'));
}
</script>

<script src="//cdn.jsdelivr.net/npm/mermaid@8.13.6/dist/mermaid.min.js"
  async
  onload="initMermaid()">
</script>

<!--https://jojozhuang.github.io/tutorial/jekyll-diagram-with-mermaid/-->